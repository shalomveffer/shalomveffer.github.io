<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="reset.css" />
        <link rel="stylesheet" type="text/css" href="main.css" />
		<script>
			function pausePromo() {
				player.pauseVideo();
				document.getElementById("videocover").onclick = playPromo;
				document.getElementById("videocover").style.opacity = "1";
			}
			
			function playPromo() {
				player.playVideo();
				document.getElementById("videocover").onclick = pausePromo;
				setTimeout(function(){document.getElementById("videocover").style.opacity = "0";document.getElementById("videohider").style.display = 'none';},150);
			}
			
			// 2. This code loads the IFrame Player API code asynchronously.
			var tag = document.createElement('script');

			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName('script')[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

			// 3. This function creates an <iframe> (and YouTube player) after the API code downloads.
			var player;
			function onYouTubeIframeAPIReady() {
				player = new YT.Player('player', {
					height: '720',
					width: '1280',
					videoId: 'syjwpslSZAo',//short = 14Gh0UlF4wc // Promo = syjwpslSZAo
					playerVars: {
					controls: 0,
					autohide: 1,
					autoplay: 1,
					showinfo: 0,
					rel: 0

				},
				events: {
					'onReady': onPlayerReady,
					'onStateChange': onPlayerStateChange
				}
			});
			}

			// 4. The API will call this function when the video player is ready.
			function onPlayerReady(event) {
				//event.target.pauseVideo();
			}		
			
			// 5. The API calls this function when the player's state changes.
			//    The function indicates that when playing a video (state=1),
			//    the player should play for six seconds and then stop.
			var done = false;
			function onPlayerStateChange(event) {
				if (event.data == YT.PlayerState.PLAYING && !done) {
				setTimeout(player.pauseVideo(), 10);
				done = true;
				}
				if (event.data == YT.PlayerState.ENDED){
					//player.playVideo();
					document.getElementById("videocover").style.opacity = "1";
					document.getElementById("videohider").style.display = "block";
				}
			}
			function stopVideo() {
				//player.stopVideo();
			}
		</script>
    </head>
    <body>
        <div id="header_wrapper">
            <div id="header">
				<div id=videohider></div>
				<div id="videocover" onclick="playPromo()"></div>
				<div id="player"></div>
                <!-- <img id="logo" src="images/logo.png" /> -->
                <div id="navigation">
                    <ul>
                        <li><a href="preview.html">Home</a></li>
                        <li><a href="preview.html">About</a></li>
                        <li><a href="preview.html">Services</a></li>
                        <li><a href="preview.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</html>
